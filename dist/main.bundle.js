!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=t.WebStorage=void 0;var o,n=r(1);!function(e){e.Local="local",e.Session="session"}(o||(o={}));var i=function(){function e(e){var t,r,n,i=e||{};i.prefix=null!==(t=i.prefix)&&void 0!==t?t:"__storage_",i.type=null!==(r=i.type)&&void 0!==r?r:o.Session,i.expire=null!==(n=i.expire)&&void 0!==n?n:0,this.config=i,this.prefix=i.prefix,this.expire=i.expire,this.storage=i.type===o.Local?window.localStorage:window.sessionStorage}return e.prototype.setItem=function(e,t,r){var o=this;return new Promise((function(n){n(o.setItemSync(e,t,r))}))},e.prototype.setItemSync=function(e,t,r){if(!e||!t)throw Error('need "key" and "value" arguments');try{var o=this.getStorage(r),i=r&&r.expire||this.expire,a={exp:n.default.formatTime(i),v:t};return o.setItem(""+this.prefix+e,JSON.stringify(a)),!0}catch(e){return console.error("setItem fail, error message: ",e.message),!1}},e.prototype.getItem=function(e,t,r){var o=this;return new Promise((function(n){n(o.getItemSync(e,t,r))}))},e.prototype.getItemSync=function(e,t,r){var o=this;if(!e)throw Error('need "key" argument');t=t||null;var n=""+this.prefix+e;try{var i=this.getStorage(r),a=Date.now(),u=i.getItem(n)||"",s=JSON.parse(u),c=void 0;return s.exp&&s.exp<=a?(c=t,setTimeout((function(){o.removeItem(e)}))):c=s.v,c}catch(e){return console.error("getItem fail, error message: ",e.message),t}},e.prototype.removeItem=function(e){var t=this;return new Promise((function(r){r(t.removeItemSync(e))}))},e.prototype.removeItemSync=function(e,t){if(!e)throw Error('need "key" argument');var r=""+this.prefix+e;try{return this.getStorage(t).removeItem(r),!0}catch(e){return console.error("removeItem fail, error message: ",e.message),!1}},e.prototype.clear=function(e){var t=this;return new Promise((function(r){r(t.clearSync(e))}))},e.prototype.clearSync=function(e){var t=this.getStorage(e);try{return t.clear(),!0}catch(e){return console.error("clear fail, error message: ",e.message),!1}},e.prototype.getStorage=function(e){var t=this.storage;return e&&e.type&&(t=e.type===o.Local?window.localStorage:window.sessionStorage),t},e}();t.WebStorage=i,t.LocalStorage=new i},function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Day="d",e.Hour="h",e.Minute="m",e.Second="s"}(o||(o={}));var n=function(){function e(){}return e.formatTime=function(t){var r,o=/(\d+)([dhms]{1,1})/i;if("string"==typeof t&&o.test(t)){var n=Date.now(),i=t.trim().toLowerCase().match(o);r=n+e.getUnitTime(i&&i[2])*Number(i&&i[1]||1)}else r="string"==typeof t?new Date(t).getTime():"number"==typeof t?t:t.getTime();return r},e.getUnitTime=function(t){switch(t){case o.Day:return e.DAY;case o.Hour:return e.HOUR;case o.Minute:return e.MINUTE;default:return e.SENCOND}},e}();t.default=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91aXRsLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiU3RvcmFnZVR5cGUiLCJjb25maWciLCJ0ZW1wQ29uZmlnIiwicHJlZml4IiwidHlwZSIsIlNlc3Npb24iLCJleHBpcmUiLCJ0aGlzIiwic3RvcmFnZSIsIkxvY2FsIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwib3B0cyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0SXRlbVN5bmMiLCJFcnJvciIsImdldFN0b3JhZ2UiLCJvcmlnaW5FeHBpcmUiLCJ0YXJnZXQiLCJleHAiLCJmb3JtYXRUaW1lIiwidiIsIkpTT04iLCJzdHJpbmdpZnkiLCJlIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsImdldEl0ZW0iLCJkZWZWYWwiLCJnZXRJdGVtU3luYyIsInJlYWxLZXkiLCJub3ciLCJEYXRlIiwidmFsIiwicGFyc2UiLCJyZXN1bHQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlSXRlbSIsInJlbW92ZUl0ZW1TeW5jIiwiY2xlYXIiLCJjbGVhclN5bmMiLCJXZWJTdG9yYWdlIiwiTG9jYWxTdG9yYWdlIiwiVGltZVVuaXQiLCJ0aW1lIiwidGltZVJlZyIsInRlc3QiLCJtYXRjaCIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsIlRpbWVGb3JtYXQiLCJnZXRVbml0VGltZSIsIk51bWJlciIsImdldFRpbWUiLCJ1aW50IiwiRGF5IiwiREFZIiwiSG91ciIsIkhPVVIiLCJNaW51dGUiLCJNSU5VVEUiLCJTRU5DT05EIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVB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RUFEYUgsRUFBS0ksT0FBT0MsY0FDTkYsTUFBTUYsR0FHL0JWLEVBQVNKLEVBRlFtQixFQUFXQyxZQUF1QkosR0FBU0EsRUFBTSxJQUN0REssT0FBUUwsR0FBU0EsRUFBTSxJQUFPLFFBRzFDWixFQUR1QixpQkFBVFMsRUFDTCxJQUFJWixLQUFLWSxHQUFNUyxVQUNELGlCQUFUVCxFQUNMQSxFQUVBQSxFQUFLUyxVQUVsQixPQUFPbEIsR0FHSixFQUFBZ0IsWUFBUCxTQUFtQkcsR0FDZixPQUFRQSxHQUNKLEtBQUtYLEVBQVNZLElBQ1YsT0FBT0wsRUFBV00sSUFDdEIsS0FBS2IsRUFBU2MsS0FDVixPQUFPUCxFQUFXUSxLQUN0QixLQUFLZixFQUFTZ0IsT0FDVixPQUFPVCxFQUFXVSxPQUN0QixRQUNJLE9BQU9WLEVBQVdXLFVBR2xDLEVBekNBLEciLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgVGltZUZvcm1hdCBmcm9tICcuL3VpdGwnO1xuXG5lbnVtIFN0b3JhZ2VUeXBlIHtcbiAgICBMb2NhbCA9ICdsb2NhbCcsXG4gICAgU2Vzc2lvbiA9ICdzZXNzaW9uJyxcbn1cblxuaW50ZXJmYWNlIFN0b3JhZ2VWYWx1ZSB7XG4gICAgZXhwOiBudW1iZXIsXG4gICAgdjogYW55LFxufVxuXG5pbnRlcmZhY2UgU3RvcmFnZU9wdGlvbnMge1xuICAgIHR5cGU/OiBTdG9yYWdlVHlwZSxcbiAgICBleHBpcmU/OiBzdHJpbmcgfCBudW1iZXIsXG59XG5pbnRlcmZhY2UgU3RvcmFnZUNvbmZpZyBleHRlbmRzIFN0b3JhZ2VPcHRpb25zIHtcbiAgICBwcmVmaXg/OiBzdHJpbmcsXG59XG5cbmV4cG9ydCBjbGFzcyBXZWJTdG9yYWdlIHtcbiAgICBwcml2YXRlIGNvbmZpZzogU3RvcmFnZUNvbmZpZztcblxuICAgIHByaXZhdGUgcHJlZml4OiBzdHJpbmc7XG5cbiAgICBwcml2YXRlIHN0b3JhZ2U6IFN0b3JhZ2U7XG5cbiAgICBwcml2YXRlIGV4cGlyZTogc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZTtcblxuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvciBXZWJTdG9yYWdlXG4gICAgICogd2ViU3RvcmFnZeWwgeijhemFjee9ruWIneWni+WMllxuICAgICAqIEBwYXJhbSB7U3RvcmFnZUNvbmZpZ30gY29uZmlnIC0gU3RvcmFnZemFjee9rlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IFN0b3JhZ2VDb25maWcpIHtcbiAgICAgICAgY29uc3QgdGVtcENvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgICAgdGVtcENvbmZpZy5wcmVmaXggPSB0ZW1wQ29uZmlnLnByZWZpeCA/PyAnX19zdG9yYWdlXyc7XG4gICAgICAgIHRlbXBDb25maWcudHlwZSA9IHRlbXBDb25maWcudHlwZSA/PyBTdG9yYWdlVHlwZS5TZXNzaW9uO1xuICAgICAgICB0ZW1wQ29uZmlnLmV4cGlyZSA9IHRlbXBDb25maWcuZXhwaXJlID8/IDA7XG4gICAgICAgIHRoaXMuY29uZmlnID0gdGVtcENvbmZpZztcbiAgICAgICAgdGhpcy5wcmVmaXggPSB0ZW1wQ29uZmlnLnByZWZpeDtcbiAgICAgICAgdGhpcy5leHBpcmUgPSB0ZW1wQ29uZmlnLmV4cGlyZTtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gdGVtcENvbmZpZy50eXBlID09PSBTdG9yYWdlVHlwZS5Mb2NhbCA/IHdpbmRvdy5sb2NhbFN0b3JhZ2UgOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U7XG4gICAgfVxuXG4gICAgc2V0SXRlbShrZXk6IHN0cmluZywgdmFsdWU6IGFueSwgb3B0cz86IFN0b3JhZ2VPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnNldEl0ZW1TeW5jKGtleSwgdmFsdWUsIG9wdHMpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0SXRlbVN5bmMoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIG9wdHM/OiBTdG9yYWdlT3B0aW9ucykge1xuICAgICAgICBpZiAoIWtleSB8fCAhdmFsdWUpIHRocm93IEVycm9yKCduZWVkIFwia2V5XCIgYW5kIFwidmFsdWVcIiBhcmd1bWVudHMnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLmdldFN0b3JhZ2Uob3B0cyk7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5FeHBpcmUgPSAob3B0cyAmJiBvcHRzLmV4cGlyZSkgfHwgdGhpcy5leHBpcmU7XG4gICAgICAgICAgICBjb25zdCBleHBpcmUgPSBUaW1lRm9ybWF0LmZvcm1hdFRpbWUob3JpZ2luRXhwaXJlKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHtcbiAgICAgICAgICAgICAgICBleHA6IGV4cGlyZSxcbiAgICAgICAgICAgICAgICB2OiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oYCR7dGhpcy5wcmVmaXh9JHtrZXl9YCwgSlNPTi5zdHJpbmdpZnkodGFyZ2V0KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NldEl0ZW0gZmFpbCwgZXJyb3IgbWVzc2FnZTogJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEl0ZW0oa2V5OiBzdHJpbmcsIGRlZlZhbD86IGFueSwgb3B0cz86IFN0b3JhZ2VPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmdldEl0ZW1TeW5jKGtleSwgZGVmVmFsLCBvcHRzKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEl0ZW1TeW5jKGtleTogc3RyaW5nLCBkZWZWYWw/OiBhbnksIG9wdHM/OiBTdG9yYWdlT3B0aW9ucykge1xuICAgICAgICBpZiAoIWtleSkgdGhyb3cgRXJyb3IoJ25lZWQgXCJrZXlcIiBhcmd1bWVudCcpO1xuICAgICAgICBkZWZWYWwgPSBkZWZWYWwgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgcmVhbEtleSA9IGAke3RoaXMucHJlZml4fSR7a2V5fWA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yYWdlID0gdGhpcy5nZXRTdG9yYWdlKG9wdHMpO1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBzdG9yYWdlLmdldEl0ZW0ocmVhbEtleSkgfHwgJyc7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSA8U3RvcmFnZVZhbHVlPkpTT04ucGFyc2Uodik7XG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgaWYgKHZhbC5leHAgJiYgdmFsLmV4cCA8PSBub3cpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWZWYWw7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWwudjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdnZXRJdGVtIGZhaWwsIGVycm9yIG1lc3NhZ2U6ICcsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmVmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlSXRlbShrZXk6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yZW1vdmVJdGVtU3luYyhrZXkpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlSXRlbVN5bmMoa2V5OiBzdHJpbmcsIG9wdHM/OiBTdG9yYWdlT3B0aW9ucykge1xuICAgICAgICBpZiAoIWtleSkgdGhyb3cgRXJyb3IoJ25lZWQgXCJrZXlcIiBhcmd1bWVudCcpO1xuICAgICAgICBjb25zdCByZWFsS2V5ID0gYCR7dGhpcy5wcmVmaXh9JHtrZXl9YDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLmdldFN0b3JhZ2Uob3B0cyk7XG4gICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0ocmVhbEtleSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3JlbW92ZUl0ZW0gZmFpbCwgZXJyb3IgbWVzc2FnZTogJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKG9wdHM/OiBTdG9yYWdlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5jbGVhclN5bmMob3B0cykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjbGVhclN5bmMob3B0cz86IFN0b3JhZ2VPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0aGlzLmdldFN0b3JhZ2Uob3B0cyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NsZWFyIGZhaWwsIGVycm9yIG1lc3NhZ2U6ICcsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTdG9yYWdlKG9wdHM6IFN0b3JhZ2VPcHRpb25zIHwgdW5kZWZpbmVkKTogU3RvcmFnZSB7XG4gICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5zdG9yYWdlO1xuICAgICAgICBpZiAob3B0cyAmJiBvcHRzLnR5cGUpIHtcbiAgICAgICAgICAgIHN0b3JhZ2UgPSBvcHRzLnR5cGUgPT09IFN0b3JhZ2VUeXBlLkxvY2FsID8gd2luZG93LmxvY2FsU3RvcmFnZSA6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RvcmFnZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBMb2NhbFN0b3JhZ2UgPSBuZXcgV2ViU3RvcmFnZSgpO1xuIiwiZW51bSBUaW1lVW5pdCB7XG4gICAgRGF5ID0gJ2QnLFxuICAgIEhvdXIgPSAnaCcsXG4gICAgTWludXRlID0gJ20nLFxuICAgIFNlY29uZCA9ICdzJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZUZvcm1hdCB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgREFZOiA4NjQwMDAwMDtcblxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEhPVVI6IDM2MDAwMDA7XG5cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBNSU5VVEU6IDYwMDAwO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU0VOQ09ORDogMTAwMDtcblxuICAgIHN0YXRpYyBmb3JtYXRUaW1lKHRpbWU6IG51bWJlciB8IHN0cmluZyB8IERhdGUpOiBudW1iZXIge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBjb25zdCB0aW1lUmVnID0gLyhcXGQrKShbZGhtc117MSwxfSkvaTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aW1lID09PSAnc3RyaW5nJyAmJiB0aW1lUmVnLnRlc3QodGltZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5UaW1lID0gdGltZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gb3JpZ2luVGltZS5tYXRjaCh0aW1lUmVnKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVVbml0ID0gVGltZUZvcm1hdC5nZXRVbml0VGltZSg8VGltZVVuaXQ+KG1hdGNoICYmIG1hdGNoWzJdKSk7XG4gICAgICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIoKG1hdGNoICYmIG1hdGNoWzFdKSB8fCAxKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5vdyArICh0aW1lVW5pdCAqIG51bSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRpbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgRGF0ZSh0aW1lKS5nZXRUaW1lKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRpbWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGltZS5nZXRUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VW5pdFRpbWUodWludDogVGltZVVuaXQpOiBudW1iZXIge1xuICAgICAgICBzd2l0Y2ggKHVpbnQpIHtcbiAgICAgICAgICAgIGNhc2UgVGltZVVuaXQuRGF5OlxuICAgICAgICAgICAgICAgIHJldHVybiBUaW1lRm9ybWF0LkRBWTtcbiAgICAgICAgICAgIGNhc2UgVGltZVVuaXQuSG91cjpcbiAgICAgICAgICAgICAgICByZXR1cm4gVGltZUZvcm1hdC5IT1VSO1xuICAgICAgICAgICAgY2FzZSBUaW1lVW5pdC5NaW51dGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRpbWVGb3JtYXQuTUlOVVRFO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gVGltZUZvcm1hdC5TRU5DT05EO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==